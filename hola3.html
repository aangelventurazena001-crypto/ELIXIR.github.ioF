<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>élixir Parfum - Detalle del Producto</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Poppins:wght@300;400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: radial-gradient(circle, rgba(239,191,4,0.3) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 20s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) translateX(50px); opacity: 0; }
        }

        .header {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.2rem 3rem;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(239, 191, 4, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            padding: 0.8rem 3rem;
            background: rgba(0, 0, 0, 0.95);
            box-shadow: 0 10px 40px rgba(239, 191, 4, 0.1);
        }

        .header-left h1 {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #EFBF04 0%, #ffd966 50%, #EFBF04 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% 200%;
            animation: shimmer 3s infinite;
            cursor: pointer;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .header-left p {
            font-size: 0.75rem;
            color: rgba(239, 191, 4, 0.7);
            letter-spacing: 3px;
            text-transform: uppercase;
            margin-top: 0.2rem;
        }

        .header-right {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .nav-links {
            display: flex;
            gap: 0.5rem;
        }

        .nav-links a, .back-btn {
            padding: 0.7rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 50px;
            color: #EFBF04;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .nav-links a:hover,
        .nav-links a.active,
        .back-btn:hover {
            background: rgba(239, 191, 4, 0.2);
            border-color: #EFBF04;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(239, 191, 4, 0.3);
        }

        .container {
            margin-top: 100px;
            padding: 3rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
            z-index: 10;
        }

        .breadcrumb {
            display: flex;
            gap: 0.5rem;
            align-items: center;
            margin-bottom: 2rem;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .breadcrumb a {
            color: #EFBF04;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .producto-detalle {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .galeria {
            position: relative;
        }

        .imagen-principal {
            width: 100%;
            height: 600px;
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 25px;
            padding: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin-bottom: 1.5rem;
        }

        .imagen-principal img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 10px 40px rgba(239, 191, 4, 0.3));
            transition: all 0.3s ease;
        }

        .imagen-principal:hover img {
            transform: scale(1.05);
        }

        .miniaturas {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .miniatura {
            height: 120px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(239, 191, 4, 0.2);
            border-radius: 15px;
            padding: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .miniatura:hover,
        .miniatura.active {
            border-color: #EFBF04;
            background: rgba(239, 191, 4, 0.1);
            transform: translateY(-5px);
        }

        .miniatura img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .info-producto {
            display: flex;
            flex-direction: column;
        }

        .categoria {
            color: #EFBF04;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 1rem;
        }

        .titulo-producto {
            font-family: 'Cinzel', serif;
            font-size: 3rem;
            color: #EFBF04;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .marca {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1.5rem;
        }



        .marca {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1.5rem;
        }

        .rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .stars {
            color: #EFBF04;
            font-size: 1.2rem;
        }

        .reviews {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
        }

        .precio-container {
            background: linear-gradient(135deg, rgba(239,191,4,0.1) 0%, rgba(239,191,4,0.05) 100%);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .precio {
            font-family: 'Cinzel', serif;
            font-size: 3rem;
            color: #EFBF04;
            font-weight: 700;
        }

        .precio-anterior {
            font-size: 1.5rem;
            color: rgba(255, 255, 255, 0.4);
            text-decoration: line-through;
            margin-left: 1rem;
        }

        .descuento {
            display: inline-block;
            background: #EFBF04;
            color: #000;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            margin-top: 1rem;
            font-size: 0.9rem;
        }

        .descripcion-corta {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            margin-bottom: 2rem;
            font-size: 1.05rem;
        }

        .opciones {
            margin-bottom: 2rem;
        }

        .opcion-grupo {
            margin-bottom: 1.5rem;
        }

        .opcion-label {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 1rem;
            font-weight: 500;
        }

        .tamanos {
            display: flex;
            gap: 1rem;
        }

        .tamano-btn {
            padding: 1rem 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 12px;
            color: #fff;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .tamano-btn:hover,
        .tamano-btn.active {
            background: rgba(239, 191, 4, 0.2);
            border-color: #EFBF04;
            transform: translateY(-2px);
        }

        .cantidad {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .cantidad-control {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 12px;
            overflow: hidden;
        }

        .cantidad-btn {
            padding: 1rem 1.5rem;
            background: transparent;
            border: none;
            color: #EFBF04;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .cantidad-btn:hover {
            background: rgba(239, 191, 4, 0.2);
        }

        .cantidad-input {
            width: 60px;
            text-align: center;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .acciones {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .btn-agregar {
            flex: 1;
            padding: 1.5rem;
            background: linear-gradient(135deg, #EFBF04 0%, #d4a004 100%);
            color: #000;
            border: none;
            border-radius: 15px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-agregar:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(239, 191, 4, 0.4);
        }

        .btn-favorito {
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 15px;
            color: #EFBF04;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-favorito:hover {
            background: rgba(239, 191, 4, 0.2);
            transform: translateY(-3px);
        }

        .caracteristicas {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .caracteristica-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(239, 191, 4, 0.2);
            border-radius: 12px;
        }

        .caracteristica-icon {
            color: #EFBF04;
            font-size: 1.5rem;
        }

        .caracteristica-text {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        .tabs {
            margin-bottom: 3rem;
        }

        .tab-buttons {
            display: flex;
            gap: 1rem;
            border-bottom: 1px solid rgba(239, 191, 4, 0.2);
            margin-bottom: 2rem;
        }

        .tab-btn {
            padding: 1rem 2rem;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }

        .tab-btn:hover,
        .tab-btn.active {
            color: #EFBF04;
            border-bottom-color: #EFBF04;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .descripcion-completa {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            font-size: 1.05rem;
        }

        .descripcion-completa h3 {
            color: #EFBF04;
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            margin: 2rem 0 1rem;
        }

        .especificaciones {
            display: grid;
            gap: 1rem;
        }

        .espec-item {
            display: grid;
            grid-template-columns: 200px 1fr;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(239, 191, 4, 0.2);
            border-radius: 12px;
        }

        .espec-label {
            color: #EFBF04;
            font-weight: 600;
        }

        .espec-value {
            color: rgba(255, 255, 255, 0.8);
        }

        .contacto-section {
            background: linear-gradient(135deg, rgba(239,191,4,0.1) 0%, rgba(239,191,4,0.05) 100%);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 25px;
            padding: 3rem;
            margin-bottom: 3rem;
        }

        .contacto-title {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            color: #EFBF04;
            margin-bottom: 2rem;
            text-align: center;
        }

        .contacto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .contacto-item {
            text-align: center;
            padding: 2rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            transition: all 0.3s ease;
        }

        .contacto-item:hover {
            transform: translateY(-5px);
            background: rgba(0, 0, 0, 0.5);
        }

        .contacto-icon {
            font-size: 3rem;
            color: #EFBF04;
            margin-bottom: 1rem;
        }

        .contacto-text h4 {
            color: #EFBF04;
            margin-bottom: 0.5rem;
        }

        .contacto-text p {
            color: rgba(255, 255, 255, 0.7);
        }

        .contacto-text a {
            color: #EFBF04;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .contacto-text a:hover {
            text-decoration: underline;
        }

        .footer {
            background: linear-gradient(135deg, rgba(10,10,10,0.95) 0%, rgba(0,0,0,0.98) 100%);
            border-top: 1px solid rgba(239, 191, 4, 0.3);
            padding: 4rem 3rem 2rem;
            position: relative;
            z-index: 10;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .footer-section h3 {
            font-family: 'Cinzel', serif;
            color: #EFBF04;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background: linear-gradient(90deg, #EFBF04, transparent);
        }

        .footer-section p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .footer-links a:hover {
            color: #EFBF04;
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            width: 45px;
            height: 45px;
            background: rgba(239, 191, 4, 0.1);
            border: 1px solid rgba(239, 191, 4, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #EFBF04;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: rgba(239, 191, 4, 0.2);
            border-color: #EFBF04;
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(239, 191, 4, 0.3);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(239, 191, 4, 0.2);
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }


        @media (max-width: 968px) {
            .producto-detalle {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .titulo-producto {
                font-size: 2rem;
            }

            .precio {
                font-size: 2rem;
            }

            .contacto-grid {
                grid-template-columns: 1fr;
            }

            .caracteristicas {
                grid-template-columns: 1fr;
            }

            .acciones {
                flex-direction: column;
            }
        }

        @media (max-width: 768px) {
            .header {
                padding: 1rem;
                flex-direction: column;
                gap: 1rem;
            }

            .container {
                padding: 2rem 1rem;
            }

            .miniaturas {
                grid-template-columns: repeat(2, 1fr);
            }

            .tamanos {
                flex-wrap: wrap;
            }

            .tab-buttons {
                flex-wrap: wrap;
            }

            .espec-item {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
        }

        .modal-advertencia {
            display: none;
            position: fixed;
            z-index: 99999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            animation: fadeIn 0.3s ease;
            justify-content: center;
            align-items: center;
        }

        .modal-advertencia-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(239, 191, 4, 0.5);
            border: 3px solid #EFBF04;
            position: relative;
            max-width: 500px;
            width: 90%;
            animation: slideDown 0.4s ease;
            text-align: center;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-advertencia-icon {
            font-size: 4rem;
            color: #EFBF04;
            margin-bottom: 1rem;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .modal-advertencia h2 {
            color: #EFBF04;
            font-size: 1.8rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .modal-advertencia p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        .modal-advertencia-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-modal-advertencia {
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-modal-primary {
            background: linear-gradient(135deg, #EFBF04 0%, #d4a003 100%);
            color: #000;
        }

        .btn-modal-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(239, 191, 4, 0.4);
        }

        .btn-modal-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #EFBF04;
            border: 2px solid #EFBF04;
        }

        .btn-modal-secondary:hover {
            background: rgba(239, 191, 4, 0.1);
            transform: translateY(-2px);
        }

        .modal-login-hola3 {
            display: none;
            position: fixed;
            z-index: 100000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .modal-login-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(239, 191, 4, 0.4);
            border: 2px solid rgba(239, 191, 4, 0.3);
            position: relative;
            width: 90%;
            max-width: 450px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideDown 0.4s ease;
        }

        .close-modal-login {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            color: #EFBF04;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
        }

        .close-modal-login:hover {
            transform: rotate(90deg);
            color: #fff;
        }

        .tabs-login {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .tab-login-btn {
            flex: 1;
            padding: 1rem;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-login-btn.active {
            color: #EFBF04;
            border-bottom: 3px solid #EFBF04;
        }

        .form-login-container h2 {
            margin-bottom: 1.5rem;
            color: #EFBF04;
            font-size: 1.5rem;
        }

        .form-login-container label {
            display: block;
            margin-bottom: 0.5rem;
            color: #fff;
            font-weight: 600;
        }

        .form-login-container input {
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(239, 191, 4, 0.3);
            border-radius: 8px;
            color: white;
            box-sizing: border-box;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-login-container input:focus {
            outline: none;
            border-color: #EFBF04;
            background: rgba(255, 255, 255, 0.08);
        }

        .btn-submit-login {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(135deg, #EFBF04 0%, #d4a003 100%);
            color: #000;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 0.5rem;
        }

        .btn-submit-login:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(239, 191, 4, 0.4);
        }

        .modal-carrito {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            justify-content: center;
            align-items: center;
        }

        .modal-carrito-content {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(239, 191, 4, 0.5);
            border: 3px solid #EFBF04;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: slideDown 0.4s ease;
        }

        .modal-carrito-icon {
            font-size: 4rem;
            color: #EFBF04;
            margin-bottom: 1rem;
        }

    </style>
</head>
<body>

    <!-- Partículas -->
    <div class="particles" id="particles"></div>

    <!-- Header -->
    <header class="header" id="header">
        <div class="header-left" onclick="window.location.href='index.html'">
            <h1>élixir Parfum</h1>
            <p>Aromas y Elegancia</p>
        </div>
        
        <div class="header-right">
            <nav class="nav-links">
                <a href="index.html"><i class="fa-solid fa-house"></i> Home</a>
                
                <!-- Dropdown de Aromas -->
                <div class="dropdown" style="position: relative; display: inline-block;">
                    <button class="dropdown-btn" onclick="toggleDropdown(event)" style="padding: 0.7rem 1.5rem; background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(239, 191, 4, 0.3); border-radius: 50px; color: #EFBF04; font-weight: 500; cursor: pointer; transition: all 0.3s ease; font-size: 0.9rem;">
                        <i class="fa-solid fa-spray-can"></i> Aromas <i class="fa-solid fa-chevron-down" style="font-size: 0.7rem; margin-left: 0.3rem;"></i>
                    </button>
                    <div id="dropdownMenu" class="dropdown-content" style="display: none; position: absolute; top: 100%; left: 0; background: rgba(20, 20, 20, 0.98); backdrop-filter: blur(20px); border: 1px solid rgba(239, 191, 4, 0.3); border-radius: 15px; margin-top: 0.5rem; min-width: 200px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); z-index: 1000; overflow: hidden;">
                        <a href="hombre.html" style="display: block; padding: 1rem 1.5rem; color: rgba(255,255,255,0.8); text-decoration: none; transition: all 0.3s ease; border-bottom: 1px solid rgba(239, 191, 4, 0.1);">
                            <i class="fa-solid fa-mars"></i> Hombres
                        </a>
                        <a href="mujeres.html" style="display: block; padding: 1rem 1.5rem; color: rgba(255,255,255,0.8); text-decoration: none; transition: all 0.3s ease; border-bottom: 1px solid rgba(239, 191, 4, 0.1);">
                            <i class="fa-solid fa-venus"></i> Mujeres
                        </a>
                        <a href="unisex.html" style="display: block; padding: 1rem 1.5rem; color: rgba(255,255,255,0.8); text-decoration: none;">
                            <i class="fa-solid fa-star"></i> Unisex
                        </a>
                    </div>
                </div>
            </nav>

            <a href="carrito.html" class="cart-btn" style="position: relative; padding: 0.7rem 1.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(239, 191, 4, 0.3); border-radius: 50px; color: #EFBF04; text-decoration: none; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 0.5rem;">
                <i class="fa-solid fa-cart-shopping"></i>
                <span id="carritoContador" style="position: absolute; top: -8px; right: -8px; background: #EFBF04; color: #000; border-radius: 50%; width: 22px; height: 22px; display: none; justify-content: center; align-items: center; font-size: 0.75rem; font-weight: 700;">0</span>
            </a>

            <!-- ⭐ NUEVO: Botón de login que se reemplazará con nombre de usuario -->
            <div id="userSectionHola3">
                <button class="back-btn" id="openLogin">
                    <i class="fa-solid fa-user"></i> Login
                </button>
            </div>

            <button class="back-btn" onclick="window.history.back()">
                <i class="fa-solid fa-arrow-left"></i> Volver
            </button>
        </div>
    </header>

    <!-- Container Principal -->
    <div class="container">
        <!-- Breadcrumb -->
        <div class="breadcrumb" id="breadcrumbContainer">
            <a href="index.html">Home</a>
            <i class="fa-solid fa-chevron-right"></i>
            <span id="breadcrumbCategoria">Cargando...</span>
            <i class="fa-solid fa-chevron-right"></i>
            <span id="breadcrumbProducto">Cargando...</span>
        </div>

        <!-- Detalle del Producto -->
        <div class="producto-detalle">
            <!-- Galería de imágenes -->
            <div class="galeria">
                <div class="imagen-principal">
                    <img id="imagenPrincipal" src="img/placeholder.jpg" alt="Producto">
                </div>
                <div class="miniaturas" id="miniaturasContainer">
                    <!-- Se llenarán dinámicamente con JavaScript -->
                </div>
            </div>

            <!-- Información del Producto -->
            <div class="info-producto">
                <div class="categoria" id="categoriaProducto">
                    <i class="fa-solid fa-tag"></i> CARGANDO...
                </div>

                <h1 class="titulo-producto" id="tituloProducto">Cargando producto...</h1>
                
                <p class="marca" id="marcaProducto">by Cargando...</p>

                <div class="rating" id="ratingContainer">
                    <!-- Rating dinámico -->
                </div>

                <div class="precio-container" id="precioContainer">
                    <!-- Precio dinámico -->
                </div>

                <p class="descripcion-corta" id="descripcionCorta">
                    Cargando descripción...
                </p>

                <div class="opciones">
                    <div class="opcion-grupo">
                        <label class="opcion-label"><i class="fa-solid fa-flask"></i> Tamaño:</label>
                        <div class="tamanos" id="tamanosContainer">
                            <!-- Tamaños dinámicos -->
                        </div>
                    </div>

                    <div class="opcion-grupo">
                        <label class="opcion-label"><i class="fa-solid fa-calculator"></i> Cantidad:</label>
                        <div class="cantidad">
                            <div class="cantidad-control">
                                <button class="cantidad-btn" onclick="cambiarCantidad(-1)">
                                    <i class="fa-solid fa-minus"></i>
                                </button>
                                <input type="text" class="cantidad-input" id="cantidadInput" value="1" readonly>
                                <button class="cantidad-btn" onclick="cambiarCantidad(1)">
                                    <i class="fa-solid fa-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botones de acción -->
                <div class="acciones">
                    <button class="btn-agregar" onclick="agregarAlCarrito()">
                        <i class="fa-solid fa-cart-shopping"></i>
                        Agregar al Carrito
                    </button>
                    <button class="btn-favorito" onclick="toggleFavorito(this)">
                        <i class="fa-regular fa-heart"></i>
                    </button>
                </div>

                <!-- Características -->
                <div class="caracteristicas">
                    <div class="caracteristica-item">
                        <i class="fa-solid fa-truck-fast caracteristica-icon"></i>
                        <span class="caracteristica-text">Envío gratis en compras mayores a S/. 200</span>
                    </div>
                    <div class="caracteristica-item">
                        <i class="fa-solid fa-box-open caracteristica-icon"></i>
                        <span class="caracteristica-text">Embalaje seguro y discreto</span>
                    </div>
                    <div class="caracteristica-item">
                        <i class="fa-solid fa-rotate caracteristica-icon"></i>
                        <span class="caracteristica-text">Devoluciones fáciles en 30 días</span>
                    </div>
                    <div class="caracteristica-item">
                        <i class="fa-solid fa-headset caracteristica-icon"></i>
                        <span class="caracteristica-text">Soporte al cliente 24/7</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ⭐ Pirámide Olfativa (se llenará dinámicamente) -->
        <div id="piramideOlfativaContainer">
            <!-- Se llenará con JavaScript -->
        </div>

        <!-- Tabs de información -->
        <div class="tabs">
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="cambiarTab(0)">
                    <i class="fa-solid fa-circle-info"></i> Descripción
                </button>
                <button class="tab-btn" onclick="cambiarTab(1)">
                    <i class="fa-solid fa-flask"></i> Especificaciones
                </button>
                <button class="tab-btn" onclick="cambiarTab(2)">
                    <i class="fa-solid fa-star"></i> Reseñas
                </button>
            </div>

            <!-- Tab 1: Descripción -->
            <div class="tab-content active" id="tab0">
                <div class="descripcion-completa" id="descripcionCompletaContainer">
                    <!-- Se llenará dinámicamente -->
                </div>
            </div>

            <!-- Tab 2: Especificaciones -->
            <div class="tab-content" id="tab1">
                <div class="especificaciones" id="especificacionesContainer">
                    <!-- Se llenará dinámicamente -->
                </div>
            </div>

            <!-- Tab 3: Reseñas -->
            <div class="tab-content" id="tab2">
                <div class="descripcion-completa">
                    <div style="display: grid; gap: 1.5rem;">
                        <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(239, 191, 4, 0.2); border-radius: 15px; padding: 2rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <div>
                                    <strong style="color: #EFBF04; font-size: 1.1rem;">Carlos Méndez</strong>
                                    <div style="color: #EFBF04; margin-top: 0.5rem; font-size: 0.9rem;">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                    </div>
                                </div>
                                <span style="color: rgba(255, 255, 255, 0.5); font-size: 0.85rem;">Hace 2 días</span>
                            </div>
                            <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.7;">
                                Excelente fragancia, muy fresca y duradera. Perfecta para el día a día y ocasiones especiales. 
                                La proyección es increíble, definitivamente mi favorita. ¡100% recomendada!
                            </p>
                        </div>

                        <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(239, 191, 4, 0.2); border-radius: 15px; padding: 2rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <div>
                                    <strong style="color: #EFBF04; font-size: 1.1rem;">Miguel Ángel Torres</strong>
                                    <div style="color: #EFBF04; margin-top: 0.5rem; font-size: 0.9rem;">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                    </div>
                                </div>
                                <span style="color: rgba(255, 255, 255, 0.5); font-size: 0.85rem;">Hace 1 semana</span>
                            </div>
                            <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.7;">
                                Me encanta este perfume. El olor es masculino pero no excesivo, muy elegante. 
                                Dura todo el día y siempre recibo cumplidos. La entrega fue rápida y el producto llegó bien empacado.
                            </p>
                        </div>

                        <div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(239, 191, 4, 0.2); border-radius: 15px; padding: 2rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                <div>
                                    <strong style="color: #EFBF04; font-size: 1.1rem;">Roberto Silva</strong>
                                    <div style="color: #EFBF04; margin-top: 0.5rem; font-size: 0.9rem;">
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-solid fa-star"></i>
                                        <i class="fa-regular fa-star"></i>
                                    </div>
                                </div>
                                <span style="color: rgba(255, 255, 255, 0.5); font-size: 0.85rem;">Hace 2 semanas</span>
                            </div>
                            <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.7;">
                                Muy buen perfume, aunque esperaba que durara un poco más. El aroma es espectacular, 
                                fresco y varonil. Perfecto para el verano y la primavera.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Contacto -->
        <div class="contacto-section">
            <h2 class="contacto-title">Contáctanos</h2>
            <p style="text-align: center; color: rgba(255, 255, 255, 0.7); margin-bottom: 3rem; font-size: 1.05rem;">
                ¿Tienes dudas sobre este producto? Estamos aquí para ayudarte
            </p>
            <div class="contacto-grid">
                <div class="contacto-item">
                    <i class="fa-brands fa-whatsapp contacto-icon"></i>
                    <div class="contacto-text">
                        <h4>WhatsApp</h4>
                        <p>Chatea con nosotros</p>
                        <a href="https://wa.link/vazab7" target="_blank">+51 924 859 152</a>
                    </div>
                </div>

                <div class="contacto-item">
                    <i class="fa-brands fa-facebook contacto-icon"></i>
                    <div class="contacto-text">
                        <h4>Facebook</h4>
                        <p>Síguenos</p>
                        <a href="https://www.facebook.com/profile.php?id=61572488352776" target="_blank">@elixirparfum</a>
                    </div>
                </div>

                <div class="contacto-item">
                    <i class="fa-brands fa-instagram contacto-icon"></i>
                    <div class="contacto-text">
                        <h4>Instagram</h4>
                        <p>Inspírate</p>
                        <a href="https://www.instagram.com/elixirparfum.cl" target="_blank">@elixirparfum</a>
                    </div>
                </div>

                <div class="contacto-item">
                    <i class="fa-solid fa-envelope contacto-icon"></i>
                    <div class="contacto-text">
                        <h4>Email</h4>
                        <p>Escríbenos</p>
                        <a href="mailto:contacto@elixirparfum.com">contacto@elixirparfum.com</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>élixir Parfum</h3>
                <p>
                    Tu destino para las fragancias más exclusivas y elegantes. 
                    Ofrecemos perfumes originales de las marcas más prestigiosas del mundo.
                </p>
                <div class="social-links">
                    <a href="https://www.facebook.com/profile.php?id=61572488352776"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/elixirparfum.cl?igsh=c25hZzU2dWU1NTUy"><i class="fab fa-instagram"></i></a>
                    <a href="https://x.com/?lang=es"><i class="fab fa-twitter"></i></a>
                    <a href="https://wa.link/vazab7"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>

            <div class="footer-section">
                <h3>Enlaces Rápidos</h3>
                <ul class="footer-links">
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="hombre.html">Perfumes para Hombre</a></li>
                    <li><a href="mujeres.html">Perfumes para Mujer</a></li>
                    <li><a href="unisex.html">Perfumes Unisex</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Información</h3>
                <ul class="footer-links">
                    <li><a href="#">Sobre Nosotros</a></li>
                    <li><a href="#">Términos y Condiciones</a></li>
                    <li><a href="#">Política de Privacidad</a></li>
                    <li><a href="#">Envíos y Devoluciones</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Contacto</h3>
                <p><i class="fa-solid fa-location-dot"></i> Lambayeque, Perú</p>
                <p><i class="fa-solid fa-phone"></i> +51 924 859 152</p>
                <p><i class="fa-solid fa-envelope"></i> contacto@elixirparfum.com</p>
                <p><i class="fa-solid fa-clock"></i> Lun - Sab: 9:00 AM - 8:00 PM</p>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 élixir Parfum. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- ⭐ MODAL DE ADVERTENCIA (Cuando no está logueado) -->
    <div class="modal-advertencia" id="modalAdvertencia">
        <div class="modal-advertencia-content">
            <div class="modal-advertencia-icon">
                <i class="fa-solid fa-triangle-exclamation"></i>
            </div>
            <h2>¡Espera un momento!</h2>
            <p>Debes iniciar sesión o registrarte para agregar productos al carrito</p>
            <div class="modal-advertencia-buttons">
                <button class="btn-modal-advertencia btn-modal-primary" onclick="abrirModalLogin()">
                    <i class="fa-solid fa-user"></i>
                    Iniciar Sesión
                </button>
                <button class="btn-modal-advertencia btn-modal-secondary" onclick="cerrarModalAdvertencia()">
                    <i class="fa-solid fa-xmark"></i>
                    Cancelar
                </button>
            </div>
        </div>
    </div>

    <!-- ⭐ MODAL LOGIN/REGISTRO -->
    <div class="modal-login-hola3" id="modalLoginHola3">
        <div class="modal-login-content">
            <span class="close-modal-login" onclick="cerrarModalLogin()">&times;</span>
            
            <div class="tabs-login">
                <button id="tabLoginHola3" class="tab-login-btn active">
                    <i class="fa-solid fa-right-to-bracket"></i> Iniciar Sesión
                </button>
                <button id="tabRegistroHola3" class="tab-login-btn">
                    <i class="fa-solid fa-user-plus"></i> Registrarse
                </button>
            </div>

            <!-- Formulario Login -->
            <div id="formLoginHola3" class="form-login-container">
                <h2><i class="fa-solid fa-user"></i> Iniciar Sesión</h2>
                <form id="loginFormHola3">
                    <label><i class="fa-solid fa-envelope"></i> Correo:</label>
                    <input type="email" id="loginEmailHola3" placeholder="tu@correo.com" required>

                    <label><i class="fa-solid fa-key"></i> Contraseña:</label>
                    <input type="password" id="loginPasswordHola3" placeholder="••••••••" required>

                    <button type="submit" class="btn-submit-login">
                        <i class="fa-solid fa-door-open"></i> Entrar
                    </button>
                </form>
            </div>

            <!-- Formulario Registro -->
            <div id="formRegistroHola3" class="form-login-container" style="display: none;">
                <h2><i class="fa-solid fa-user-plus"></i> Crear Cuenta</h2>
                <form id="registroFormHola3">
                    <label><i class="fa-solid fa-user"></i> Nombres:</label>
                    <input type="text" id="regNombresHola3" placeholder="Juan" required>

                    <label><i class="fa-solid fa-user"></i> Apellidos:</label>
                    <input type="text" id="regApellidosHola3" placeholder="Pérez" required>

                    <label><i class="fa-solid fa-envelope"></i> Correo:</label>
                    <input type="email" id="regEmailHola3" placeholder="tu@correo.com" required>

                    <label><i class="fa-solid fa-phone"></i> Teléfono:</label>
                    <input type="tel" id="regTelefonoHola3" placeholder="924859152" required>

                    <label><i class="fa-solid fa-key"></i> Contraseña:</label>
                    <input type="password" id="regPasswordHola3" placeholder="Mínimo 6 caracteres" required minlength="6">

                    <button type="submit" class="btn-submit-login">
                        <i class="fa-solid fa-user-plus"></i> Registrarse
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- ⭐ MODAL DE ÉXITO (Producto agregado al carrito) -->
    <div class="modal-carrito" id="modalCarrito">
        <div class="modal-carrito-content">
            <span onclick="cerrarModal()" style="position: absolute; right: 1.5rem; top: 1rem; font-size: 2rem; cursor: pointer; color: #EFBF04; transition: all 0.3s ease;">&times;</span>
            
            <div class="modal-carrito-icon">
                <i class="fa-solid fa-circle-check"></i>
            </div>
            
            <h2 style="font-family: 'Cinzel', serif; color: #EFBF04; margin-bottom: 1rem; font-size: 2rem;">
                ¡Agregado al Carrito!
            </h2>
            
            <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 1rem; line-height: 1.6;" id="detalleProducto"></p>
            
            <p style="color: rgba(255, 255, 255, 0.6); margin-bottom: 2rem; font-size: 0.95rem;">
                Tu producto ha sido añadido exitosamente
            </p>
            
            <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                <button onclick="cerrarModal()" style="flex: 1; min-width: 200px; padding: 1rem 1.5rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(239, 191, 4, 0.3); border-radius: 12px; color: #EFBF04; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 1rem;">
                    Seguir Comprando
                </button>
                <button onclick="window.location.href='carrito.html'" style="flex: 1; min-width: 200px; padding: 1rem 1.5rem; background: linear-gradient(135deg, #EFBF04 0%, #d4a004 100%); border: none; border-radius: 12px; color: #000; font-weight: 700; cursor: pointer; transition: all 0.3s ease; font-size: 1rem;">
                    Ver Carrito
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="productos.js"></script>
    <script src="navigation.js"></script>
    <script src="api.js"></script>


<script>
    // ============================================
    // OBTENER PRODUCTO DESDE URL
    // ============================================
    const urlParams = new URLSearchParams(window.location.search);
    const productoId = urlParams.get('id') || 'dior-sauvage';
    const producto = productos[productoId];

    // ============================================
    // CARGAR PRODUCTO DINÁMICAMENTE
    // ============================================
    function cargarProducto() {
        if (!producto) {
            alert('Producto no encontrado');
            window.location.href = 'index.html';
            return;
        }

        document.title = `${producto.titulo} - élixir Parfum`;
        
        // Breadcrumb
        document.getElementById('breadcrumbCategoria').innerHTML = `<a href="${producto.categoria.toLowerCase().includes('hombre') ? 'hombre.html' : producto.categoria.toLowerCase().includes('mujer') ? 'mujeres.html' : 'unisex.html'}">${producto.categoria}</a>`;
        document.getElementById('breadcrumbProducto').textContent = producto.titulo;

        // Imágenes
        document.getElementById('imagenPrincipal').src = producto.imagenPrincipal;
        document.getElementById('imagenPrincipal').alt = producto.titulo;

        const miniaturasHTML = producto.miniaturas.map((img, index) => `
            <div class="miniatura ${index === 0 ? 'active' : ''}" onclick="cambiarImagen('${img}', this)">
                <img src="${img}" alt="Vista ${index + 1}">
            </div>
        `).join('');
        document.getElementById('miniaturasContainer').innerHTML = miniaturasHTML;

        // Info básica
        document.getElementById('categoriaProducto').innerHTML = `<i class="fa-solid fa-tag"></i> ${producto.categoria}`;
        document.getElementById('tituloProducto').textContent = producto.titulo;
        document.getElementById('marcaProducto').textContent = `by ${producto.marca}`;

        // Rating
        const starsHTML = generarEstrellas(producto.rating);
        document.getElementById('ratingContainer').innerHTML = `
            <div class="stars">${starsHTML}</div>
            <span class="reviews">(${producto.rating}) ${producto.reviews.toLocaleString()} reseñas</span>
        `;

        // Precios
        document.getElementById('precioContainer').innerHTML = `
            <span class="precio">S/. ${producto.precio.toFixed(2)}</span>
            <span class="precio-anterior">S/. ${producto.precioAnterior.toFixed(2)}</span>
            <div class="descuento"><i class="fa-solid fa-fire"></i> ${producto.descuento}</div>
        `;

        // Descripción
        document.getElementById('descripcionCorta').textContent = producto.descripcionCorta;

        // Tamaños
        const tamanosHTML = producto.tamanos.map((tamano, index) => `
            <button class="tamano-btn ${index === 1 ? 'active' : ''}" onclick="seleccionarTamano(this, ${tamano.ml}, ${tamano.precio})">
                ${tamano.ml}ml
            </button>
        `).join('');
        document.getElementById('tamanosContainer').innerHTML = tamanosHTML;

        // Cargar secciones
        cargarPiramideOlfativa();
        cargarDescripcionCompleta();
        cargarEspecificaciones();
    }

    // ============================================
    // GENERAR ESTRELLAS
    // ============================================
    function generarEstrellas(rating) {
        let stars = '';
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 !== 0;

        for (let i = 0; i < fullStars; i++) {
            stars += '<i class="fa-solid fa-star"></i>';
        }
        if (hasHalfStar) {
            stars += '<i class="fa-solid fa-star-half-stroke"></i>';
        }
        const emptyStars = 5 - Math.ceil(rating);
        for (let i = 0; i < emptyStars; i++) {
            stars += '<i class="fa-regular fa-star"></i>';
        }
        return stars;
    }

    // ============================================
    // PIRÁMIDE OLFATIVA
    // ============================================
    function cargarPiramideOlfativa() {
        const piramide = producto.piramideOlfativa;
        const piramideHTML = `
            <div style="margin: 5rem 0;">
                <h2 style="font-family: 'Cinzel', serif; font-size: 2.5rem; color: #EFBF04; text-align: center; margin-bottom: 3rem;">
                    Pirámide Olfativa
                </h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                    ${crearTarjetaNota('Notas de Salida', piramide.salida)}
                    ${crearTarjetaNota('Notas de Corazón', piramide.corazon)}
                    ${crearTarjetaNota('Notas de Fondo', piramide.fondo)}
                </div>
            </div>
        `;
        document.getElementById('piramideOlfativaContainer').innerHTML = piramideHTML;
    }

    function crearTarjetaNota(titulo, nota) {
        const notasHTML = nota.notas.map(n => `<strong style="color: #EFBF04;">${n.nombre}</strong>`).join(', ');
        return `
            <div style="background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%); border: 1px solid rgba(239, 191, 4, 0.2); border-radius: 20px; padding: 2.5rem; text-align: center; transition: all 0.4s ease;">
                <div style="font-size: 3.5rem; margin-bottom: 1.5rem;">${nota.emoji}</div>
                <h3 style="font-family: 'Cinzel', serif; font-size: 1.5rem; color: #EFBF04; margin-bottom: 1rem;">${titulo}</h3>
                <p style="color: rgba(255, 255, 255, 0.8); line-height: 1.8;">${notasHTML}</p>
            </div>
        `;
    }

    // ============================================
    // DESCRIPCIÓN Y ESPECIFICACIONES
    // ============================================
    function cargarDescripcionCompleta() {
        const desc = producto.descripcionCompleta;
        document.getElementById('descripcionCompletaContainer').innerHTML = `
            <h3>Sobre este producto</h3>
            <p>${desc.sobre}</p>
            <h3>Inspiración</h3>
            <p>${desc.inspiracion}</p>
            <h3>Ocasión de uso</h3>
            <p>${desc.ocasion}</p>
        `;
    }

    function cargarEspecificaciones() {
        const espec = producto.especificaciones;
        const especHTML = Object.entries(espec).map(([key, value]) => {
            const iconos = {
                marca: 'fa-tag', tipo: 'fa-flask', concentracion: 'fa-droplet',
                duracion: 'fa-clock', estela: 'fa-wind', genero: 'fa-mars',
                familiaOlfativa: 'fa-leaf', año: 'fa-calendar', perfumista: 'fa-user',
                presentacion: 'fa-box', autenticidad: 'fa-shield-halved', origen: 'fa-earth-americas'
            };
            const labels = {
                marca: 'Marca', tipo: 'Tipo', concentracion: 'Concentración',
                duracion: 'Duración', estela: 'Estela', genero: 'Género',
                familiaOlfativa: 'Familia Olfativa', año: 'Año', perfumista: 'Perfumista',
                presentacion: 'Presentación', autenticidad: 'Autenticidad', origen: 'Origen'
            };
            return `
                <div class="espec-item">
                    <div class="espec-label"><i class="fa-solid ${iconos[key]}"></i> ${labels[key]}:</div>
                    <div class="espec-value">${value}</div>
                </div>
            `;
        }).join('');
        document.getElementById('especificacionesContainer').innerHTML = especHTML;
    }

    // ============================================
    // PARTÍCULAS Y EFECTOS
    // ============================================
    function crearParticulas() {
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 30; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            const size = Math.random() * 100 + 50;
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 20 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 15) + 's';
            particlesContainer.appendChild(particle);
        }
    }

    window.addEventListener('scroll', () => {
        const header = document.getElementById('header');
        if (window.scrollY > 100) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });

    // ============================================
    // FUNCIONES DE INTERFAZ
    // ============================================
    function cambiarImagen(url, elemento) {
        const imagenPrincipal = document.getElementById('imagenPrincipal');
        imagenPrincipal.style.opacity = '0';
        setTimeout(() => {
            imagenPrincipal.src = url;
            imagenPrincipal.style.opacity = '1';
        }, 200);
        document.querySelectorAll('.miniatura').forEach(mini => mini.classList.remove('active'));
        elemento.classList.add('active');
    }

    let precioBase = producto ? producto.tamanos[1].precio : 0;
    function seleccionarTamano(elemento, ml, precio) {
        document.querySelectorAll('.tamano-btn').forEach(btn => btn.classList.remove('active'));
        elemento.classList.add('active');
        precioBase = precio;
        document.querySelector('.precio').textContent = 'S/. ' + precioBase.toFixed(2);
    }

    function cambiarCantidad(delta) {
        const input = document.getElementById('cantidadInput');
        let cantidad = parseInt(input.value);
        cantidad = Math.max(1, cantidad + delta);
        input.value = cantidad;
    }

    function cambiarTab(index) {
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.querySelectorAll('.tab-btn')[index].classList.add('active');
        document.getElementById('tab' + index).classList.add('active');
    }

    function toggleFavorito(btn) {
        const icon = btn.querySelector('i');
        if (icon.classList.contains('fa-regular')) {
            icon.classList.remove('fa-regular');
            icon.classList.add('fa-solid');
        } else {
            icon.classList.remove('fa-solid');
            icon.classList.add('fa-regular');
        }
    }

    function cerrarModal() {
        document.getElementById('modalCarrito').style.display = 'none';
    }


    // ============================================
    // ⭐ AGREGAR AL CARRITO MEJORADO (CON BD)
    // ============================================
    async function agregarAlCarrito() {
        // ⭐ VERIFICAR LOGIN - Si no está logueado, mostrar modal bonito
        if (typeof estaLogueado === 'undefined' || !estaLogueado()) {
            mostrarModalAdvertencia();
            return;
        }

        const cantidad = parseInt(document.getElementById('cantidadInput').value);
        const tamanoBtn = document.querySelector('.tamano-btn.active');
        
        if (!tamanoBtn) {
            alert('Por favor selecciona un tamaño');
            return;
        }

        const tamanoTexto = tamanoBtn.textContent.trim();
        const tamanoML = parseInt(tamanoTexto);
        
        // Obtener producto desde productos.js
        const productoLocal = productos[productoId];
        const tamanoData = productoLocal.tamanos.find(t => t.ml === tamanoML);
        
        if (!tamanoData) {
            alert('Tamaño no disponible');
            return;
        }

        try {
            // ⭐ CONECTAR CON BASE DE DATOS
            const perfumes = await obtenerPerfumes();
            const perfumeBD = perfumes.find(p => p.Codigo_Producto === productoId);
            
            if (!perfumeBD) {
                alert('Producto no encontrado en la base de datos');
                return;
            }

            // Buscar tamaño en BD
            const tamanoBD = perfumeBD.tamanos.find(t => t.Mililitros === tamanoML);
            
            if (!tamanoBD) {
                alert('Este tamaño no está disponible');
                return;
            }

            // ⭐ AGREGAR AL CARRITO EN BD
            const resultado = await agregarAlCarritoBD(perfumeBD.ID_Perfume, tamanoBD.ID_Tamano, cantidad);
            
            if (resultado.success) {
                // Mostrar modal de éxito
                const subtotal = (tamanoData.precio * cantidad).toFixed(2);
                
                document.getElementById('detalleProducto').innerHTML = `
                    <strong style="color: #EFBF04; font-size: 1.2rem;">${productoLocal.titulo}</strong><br>
                    <span style="color: rgba(255,255,255,0.8);">${productoLocal.marca}</span><br>
                    <span style="color: rgba(255,255,255,0.7);">Tamaño: ${tamanoML}ml</span><br>
                    <span style="color: rgba(255,255,255,0.7);">Cantidad: ${cantidad}</span><br>
                    <span style="font-size: 1.5rem; color: #EFBF04; font-weight: 700; margin-top: 1rem; display: block;">
                        Subtotal: S/. ${subtotal}
                    </span>
                `;
                
                document.getElementById('modalCarrito').style.display = 'flex';
                
                // ⭐ ACTUALIZAR CONTADOR
                setTimeout(() => {
                    if (typeof actualizarContadorCarrito === 'function') {
                        actualizarContadorCarrito();
                    }
                }, 500);
            } else {
                alert('Error al agregar al carrito: ' + (resultado.error || 'Error desconocido'));
            }
        } catch (error) {
            console.error('Error:', error);
            alert('Error al conectar con la base de datos');
        }
    }

    // ============================================
    // ⭐ MODALES DE ADVERTENCIA Y LOGIN
    // ============================================
    function mostrarModalAdvertencia() {
        document.getElementById('modalAdvertencia').style.display = 'flex';
    }

    function cerrarModalAdvertencia() {
        document.getElementById('modalAdvertencia').style.display = 'none';
    }

    function abrirModalLogin() {
        cerrarModalAdvertencia();
        document.getElementById('modalLoginHola3').style.display = 'flex';
    }

    function cerrarModalLogin() {
        document.getElementById('modalLoginHola3').style.display = 'none';
    }

    // ============================================
    // ⭐ LOGIN Y REGISTRO
    // ============================================
    
    // Función de inicio de sesión
    async function iniciarSesionHola3(correo, password) {
        if (typeof login === 'undefined') {
            console.error('api.js no cargado');
            return { success: false, error: 'Error al cargar el sistema' };
        }
        return await login(correo, password);
    }

    // Función de registro
    async function registrarClienteHola3(nombres, apellidos, correo, telefono, password) {
        try {
            const response = await fetch('/api/...', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ nombres, apellidos, correo, telefono, password })
            });
            
            const data = await response.json();
            return data.success ? { success: true } : { success: false, error: data.error };
        } catch (error) {
            return { success: false, error: 'Error de conexión' };
        }
    }

    // ⭐ Tabs del modal
    const tabLoginHola3 = document.getElementById('tabLoginHola3');
    const tabRegistroHola3 = document.getElementById('tabRegistroHola3');

    if (tabLoginHola3 && tabRegistroHola3) {
        tabLoginHola3.onclick = () => {
            tabLoginHola3.classList.add('active');
            tabRegistroHola3.classList.remove('active');
            document.getElementById('formLoginHola3').style.display = 'block';
            document.getElementById('formRegistroHola3').style.display = 'none';
        };
        
        tabRegistroHola3.onclick = () => {
            tabRegistroHola3.classList.add('active');
            tabLoginHola3.classList.remove('active');
            document.getElementById('formRegistroHola3').style.display = 'block';
            document.getElementById('formLoginHola3').style.display = 'none';
        };
    }

    // ⭐ Submit Login
    const loginFormHola3 = document.getElementById('loginFormHola3');
    if (loginFormHola3) {
        loginFormHola3.addEventListener('submit', async (e) => {
            e.preventDefault();
            const correo = document.getElementById('loginEmailHola3').value;
            const password = document.getElementById('loginPasswordHola3').value;
            const resultado = await iniciarSesionHola3(correo, password);
            
            if (resultado.success) {
                alert('¡Bienvenido! ' + resultado.cliente.Nombres);
                cerrarModalLogin();
                actualizarHeaderUsuarioHola3();
                setTimeout(() => {
                    if (typeof actualizarContadorCarrito === 'function') {
                        actualizarContadorCarrito();
                    }
                }, 300);
            } else {
                alert('Error: ' + resultado.error);
            }
        });
    }

    // ⭐ Submit Registro
    const registroFormHola3 = document.getElementById('registroFormHola3');
    if (registroFormHola3) {
        registroFormHola3.addEventListener('submit', async (e) => {
            e.preventDefault();
            const resultado = await registrarClienteHola3(
                document.getElementById('regNombresHola3').value,
                document.getElementById('regApellidosHola3').value,
                document.getElementById('regEmailHola3').value,
                document.getElementById('regTelefonoHola3').value,
                document.getElementById('regPasswordHola3').value
            );
            
            if (resultado.success) {
                alert('¡Registro exitoso! Ahora puedes iniciar sesión');
                tabLoginHola3.click();
                document.getElementById('loginEmailHola3').value = document.getElementById('regEmailHola3').value;
            } else {
                alert('Error: ' + resultado.error);
            }
        });
    }

    // ============================================
    // ⭐ ACTUALIZAR HEADER CON NOMBRE DE USUARIO
    // ============================================
    function actualizarHeaderUsuarioHola3() {
        if (typeof obtenerClienteActual !== 'function') {
            setTimeout(actualizarHeaderUsuarioHola3, 100);
            return;
        }
        
        const cliente = obtenerClienteActual();
        const userSection = document.getElementById('userSectionHola3');
        
        if (cliente && userSection) {
            userSection.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <span style="color: #EFBF04; font-weight: 600; font-size: 0.85rem; padding: 0.5rem 1rem; background: rgba(239, 191, 4, 0.1); border-radius: 8px; border: 1px solid rgba(239, 191, 4, 0.3);">
                        <i class="fa-solid fa-user"></i> ${cliente.Nombres}
                    </span>
                    <button onclick="cerrarSesion()" class="back-btn" style="background: rgba(239, 191, 4, 0.2);">
                        <i class="fa-solid fa-right-from-bracket"></i> Salir
                    </button>
                </div>
            `;
        }
    }
    // ============================================
    // ⭐ ASIGNAR EVENTO AL BOTÓN LOGIN
    // ============================================
    const openLoginBtn = document.getElementById('openLogin');
    if (openLoginBtn) {
        openLoginBtn.onclick = () => {
            document.getElementById('modalLoginHola3').style.display = 'flex';
        };
    }
    // ============================================
    // INICIALIZAR AL CARGAR
    // ============================================
    window.addEventListener('load', () => {
        crearParticulas();
        cargarProducto();
        actualizarHeaderUsuarioHola3();
        
        setTimeout(() => {
            if (typeof actualizarContadorCarrito === 'function') {
                actualizarContadorCarrito();
            }
        }, 500);
    });

    // Cerrar modales con ESC
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            cerrarModal();
            cerrarModalAdvertencia();
            cerrarModalLogin();
        }
    });
        // Dropdown menu
    function toggleDropdown(event) {
        event.stopPropagation();
        const dropdown = document.getElementById('dropdownMenu');
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
    }

    // Cerrar dropdown al hacer click fuera
    window.addEventListener('click', (e) => {
        const dropdown = document.getElementById('dropdownMenu');
        if (dropdown && !e.target.closest('.dropdown')) {
            dropdown.style.display = 'none';
        }
    });

    // Hover effects para dropdown items
    document.addEventListener('DOMContentLoaded', () => {
        const dropdownLinks = document.querySelectorAll('.dropdown-content a');
        dropdownLinks.forEach(link => {
            link.addEventListener('mouseenter', function() {
                this.style.background = 'rgba(239, 191, 4, 0.2)';
                this.style.color = '#EFBF04';
                this.style.paddingLeft = '2rem';
            });
            link.addEventListener('mouseleave', function() {
                this.style.background = 'transparent';
                this.style.color = 'rgba(255,255,255,0.8)';
                this.style.paddingLeft = '1.5rem';
            });
        });
    });
</script>

</body>

</html>
